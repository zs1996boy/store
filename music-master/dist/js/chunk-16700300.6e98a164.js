(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16700300"],{"13d9":function(t,e,s){"use strict";s("a036")},"1f24":function(t,e,s){},2704:function(t,e,s){"use strict";s("1f24")},"29db":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("get-back"),s("my-img",{attrs:{item:t.coverImgUrl}}),s("div",{staticClass:"songbox",on:{click:function(e){return t.songList(t.allsong)}}},[s("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v("加入歌单")]),s("div",{staticClass:"box"},[s("div",{class:1==t.isShow?"color":"",on:{click:function(e){t.isShow=!0}}},[t._v("歌曲")]),s("div",{class:0==t.isShow?"color":"",on:{click:function(e){t.isShow=!1}}},[t._v("评论")])]),s("all-song",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],attrs:{allsong:t.allsong},on:{son:t.dad,play:function(e){return t.$emit("play",e)}}}),s("my-comment",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}],attrs:{hotComments:t.hotComments,comments:t.comments}}),s("botton-logo")],1)},n=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{attrs:{to:""}},t._l(t.listInfo,(function(e,o){return s("div",{key:e.id,staticClass:"dad",on:{click:function(s){return t.changeIndex(o+1,e)}}},[s("div",{staticClass:"son"},[s("span",[t._v(t._s(o+1)+".")]),t._v(" "+t._s(e.name)+" "),s("span",[t._v(" "+t._s(e.ar[0].name)+"-"+t._s(e.al.name)+" ")])]),s("span",{class:[t.show==o+1?"fa-play-circle":"fa-play-circle-o","fa","myplay"],on:{click:[function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"left",37,s.key,["Left","ArrowLeft"])||"button"in s&&0!==s.button?null:(s.preventDefault(),s.stopPropagation(),t.changeIndex(o+1,e))},function(s){return s.stopPropagation(),t.$emit("play",e)}]}})])})),0)},a=[],l={props:["allsong"],data(){return{listInfo:[],show:0,itemid:"",page:0,perpage:20,hotList:[]}},created(){this.$nextTick(()=>{window.addEventListener("scroll",this.onScroll)})},beforeRouteEnter(t,e,s){s(t=>{window.addEventListener("scroll",t.onScroll)})},beforeRouteLeave(t,e,s){window.removeEventListener("scroll",this.onScroll),s()},methods:{changeIndex(t,e){this.show=t,this.itemid=e.id,this.$emit("son",e.id),console.log("播放音乐")},loadeMore(){this.page++;let t=this.page*this.perpage,e=(this.page+1)*this.perpage;this.listInfo=this.listInfo.concat(this.hotList.slice(t,e))},onScroll(){let t=document.documentElement.scrollHeight||document.body.scrollHeight,e=document.documentElement.scrollTop||document.body.scrollTop,s=document.documentElement.clientHeight||document.body.clientHeight;t-e-s==0&&this.loadeMore()}},watch:{allsong(t){this.hotList=t,this.listInfo=this.hotList.slice(0,10),console.log(this.listInfo)}}},c=l,r=(s("4e0c"),s("2877")),m=Object(r["a"])(c,i,a,!1,null,"b3f0cb6a",null),u=m.exports,d=s("a52a"),h=s("d0fa"),f=s("ce54"),p=s("7cde"),g={props:["musicid"],components:{AllSong:u,MyImg:d["a"],GetBack:h["a"],MyComment:f["a"],BottonLogo:p["a"]},data(){return{allsong:[],playid:1478826571,playurl:"",coverImgUrl:"",hotComments:[],comments:[],isShow:!0}},methods:{dad(t){console.log(t),this.playid=t,console.log(this.musicid)},songList(t){console.log("加入歌单"),console.log(t),this.$emit("playLists",t)}},created(){this.$nextTick(()=>{this.$axios.get("playlist/detail?id="+this.musicid).then(t=>{this.coverImgUrl=t.data.playlist.coverImgUrl,this.allsong=t.data.playlist.tracks.map(t=>(t.song={artists:t.ar,album:t.al},t)),console.log(this.allsong)}),this.$axios.get("/comment/playlist?id="+this.musicid).then(t=>{this.hotComments=t.data.hotComments,this.comments=t.data.comments})})},activated(){}},v=g,w=(s("f75d"),Object(r["a"])(v,o,n,!1,null,"4405e1d8",null));e["default"]=w.exports},"4e0c":function(t,e,s){"use strict";s("dccb")},"5a6a":function(t,e,s){"use strict";s("9d08")},"9d08":function(t,e,s){},a036:function(t,e,s){},a52a:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{attrs:{src:t.item,alt:""}}),s("div",{staticClass:"box"},[t._t("default")],2)])},n=[],i={props:{item:String}},a=i,l=(s("13d9"),s("2877")),c=Object(l["a"])(a,o,n,!1,null,"4969a653",null);e["a"]=c.exports},ce54:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment"},[s("p",[s("span",{class:0==t.i?"color":"",on:{click:t.New}},[t._v("最新评论")]),t.hotComments.length?s("span",{class:1==t.i?"color":"",on:{click:t.Hot}},[t._v("精彩评论")]):t._e()]),t._l(t.hotdata,(function(e,o){return s("ul",{key:o},[s("div",[s("li",[s("img",{attrs:{src:e.user.avatarUrl,alt:""}})]),s("li",[s("p",[t._v(t._s(e.user.nickname))]),s("p",[t._v(t._s(t._f("formatDate")(e.time,"Y年m月d日")))]),s("p",[t._v(" "+t._s(e.content)+" ")])])]),s("div",[s("i",{staticClass:"fa fa-thumbs-o-up"}),t._v(t._s(t._f("formatNum")(e.likedCount))+" ")])])}))],2)},n=[],i={props:["hotComments","comments"],data(){return{hotdata:[],i:0}},methods:{Hot(){this.hotdata=this.hotComments,this.i=1},New(){this.hotdata=this.comments,this.i=0}},watch:{comments(t){console.log(t),this.hotdata=t}},filters:{formatDate(t,e){let s=new Date(t),o={"Y+":s.getFullYear(),"m+":s.getMonth()+1,"d+":s.getDate(),"h+":s.getHours(),"M+":s.getMinutes(),"S+":s.getSeconds};for(let n in o){let t=new RegExp(n),s=o[n];s=s<10?"0"+s:s,e=e.replace(t,s)}return e},formatNum(t){return t>=1e4?(parseInt(t)/1e4).toFixed(0)+"万":t}}},a=i,l=(s("5a6a"),s("2877")),c=Object(l["a"])(a,o,n,!1,null,"16777cef",null);e["a"]=c.exports},d0fa:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("i",{staticClass:"fa fa-arrow-left",attrs:{"aria-hidden":"true"},on:{click:t.back}})},n=[],i={methods:{back(){this.$router.back()}}},a=i,l=(s("2704"),s("2877")),c=Object(l["a"])(a,o,n,!1,null,"1a9b3a00",null);e["a"]=c.exports},dccb:function(t,e,s){},f37c:function(t,e,s){},f75d:function(t,e,s){"use strict";s("f37c")}}]);
//# sourceMappingURL=chunk-16700300.6e98a164.js.map