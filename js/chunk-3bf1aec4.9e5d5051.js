(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bf1aec4"],{1142:function(s,t,a){},"2a08":function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"changepassword"},[a("van-form",{on:{submit:s.xiuonSubmit}},[a("div",{staticClass:"zhuce"},[s._v("当前手机号:"),a("span",[s._v(s._s(s._f("data")(s.phone)))])]),a("van-field",{attrs:{type:"password",name:"xiupassword",placeholder:"设置新密码",rules:[{pattern:/^\w{4,10}$/,message:"密码由4~10位数字,大小写字母组成"}]},model:{value:s.xiupassword,callback:function(t){s.xiupassword=t},expression:"xiupassword"}}),a("van-field",{attrs:{type:"password",name:"xiupasswords",placeholder:"确认新密码",rules:[{pattern:/^\w{4,10}$/,message:"密码由4~10位数字,大小写字母组成"}]},on:{blur:function(t){return s.blur(s.xiupasswords)}},model:{value:s.xiupasswords,callback:function(t){s.xiupasswords=t},expression:"xiupasswords"}}),a("van-field",{attrs:{name:"xiusms",center:"",clearable:"",placeholder:"填写验证码"},scopedSlots:s._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small",type:"primary",round:"",color:"linear-gradient(to right, #f55d45, #fe8b3c)"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),s.sms(t)}}},[s._v("发送验证码")])]},proxy:!0}]),model:{value:s.xiusms,callback:function(t){s.xiusms=t},expression:"xiusms"}}),a("div",{staticStyle:{margin:"30px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:"linear-gradient(to right, #f55d45, #fe8b3c)"}},[s._v("确定修改")])],1)],1)],1)},n=[],i={data:function(){return{phone:"",xiupassword:"",xiupasswords:"",xiusms:"",yes:!1,smskey:""}},created:function(){var s=this;this.axios.get("/api/verify_code").then((function(t){s.smskey=t.data.data.key})),this.$axios.get("/api/userinfo").then((function(t){s.phone=t.data.data.phone}))},methods:{sms:function(){var s=this;1==this.yes&&this.$axios.post("api/register/verify",{key:this.smskey,phone:this.phone,code:""}).then((function(t){t=t.data,t.status,s.$toast(t.msg)}))},xiuonSubmit:function(s){var t=this;this.$axios.post("/api/register/reset",{account:this.phone,captcha:s.xiusms,code:"",password:s.xiupasswords}).then((function(s){t.$toast(s.data.msg),200==s.data.status&&t.$router.go(-1)}))},blur:function(s){this.xiupassword==s?this.yes=!0:(this.$toast("两次密码不一样"),this.yes=!1)}},filters:{data:function(s){var t=s.substring(0,3),a=s.substring(7);return t+"****"+a}}},o=i,r=(a("f7fc"),a("2877")),u=Object(r["a"])(o,e,n,!1,null,null,null);t["default"]=u.exports},f7fc:function(s,t,a){"use strict";a("1142")}}]);
//# sourceMappingURL=chunk-3bf1aec4.9e5d5051.js.map