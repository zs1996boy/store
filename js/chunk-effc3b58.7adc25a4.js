(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-effc3b58"],{c1eb:function(t,a,i){"use strict";i("d762")},d3bb:function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return t.ordertaildata?i("div",{staticClass:"ordertaildata"},[i("div",[i("div",[i("div",[i("img",{attrs:{src:t.ordertaildata.status_pic,alt:""}})]),i("div",[i("li",[t._v(t._s(t.status._msg))]),i("li",[t._v(t._s(t.ordertaildata._add_time))])])])]),i("div",[i("van-steps",{staticClass:"mysteps",attrs:{active:t.active,"active-color":"#e93323"}},[i("van-step",[t._v("待付款")]),i("van-step",[t._v("待发货")]),i("van-step",[t._v("待收货")]),i("van-step",[t._v("待评价")]),i("van-step",[t._v("已完成")])],1)],1),i("div",[i("div",[t._v(t._s(t.ordertaildata.real_name)),i("span",[t._v(t._s(t.ordertaildata.user_phone))])]),i("div",[t._v(t._s(t.ordertaildata.user_address))])]),i("div",[i("img",{attrs:{src:t.img,alt:""}})]),i("div",{staticClass:"mycart"},[i("div",[i("div",[t._v("共"),i("span",[t._v(t._s(t.orderdata.length))]),t._v("件商品")]),i("div",{staticClass:"cartconter"},t._l(t.orderdata,(function(a){return i("van-card",{key:a.id,attrs:{price:a.productInfo.attrInfo.price,desc:a.productInfo.attrInfo.suk},scopedSlots:t._u([{key:"thumb",fn:function(){return[i("img",{staticClass:"cartimg",attrs:{src:a.productInfo.attrInfo.image,alt:""}})]},proxy:!0},{key:"title",fn:function(){return[i("div",{staticClass:"cardtitle"},[i("li",[t._v(t._s(a.productInfo.store_name))]),i("li",[t._v("x"+t._s(a.cart_num))])])]},proxy:!0}],null,!0)})})),1)])]),i("div",{staticClass:"van-cell aa"},[i("div",[t._v("订单编号:")]),i("div",[t._v(t._s(t.ordertaildata.order_id))])]),i("div",{staticClass:"van-cell aa"},[i("div",[t._v("下单时间:")]),i("div",[t._v(t._s(t.ordertaildata._add_time))])]),t._m(0),i("div",{staticClass:"van-cell aa"},[i("div",[t._v("支付状态:")]),i("div",[t._v(t._s(t.status._title))])]),i("div",{staticClass:"van-cell aa"},[i("div",[t._v("支付方式:")]),i("div",[t._v(t._s(t.status._payType))])]),i("div",{staticClass:"van-cell aa"},[i("div",[t._v("支付金额:")]),i("div",[t._v("¥"+t._s(t.ordertaildata.total_price))])]),i("div",{staticClass:"van-cell aa bb"},[i("div",[t._v("实付款:"),i("span",[t._v("¥"+t._s(t.ordertaildata.total_price))])])]),"未支付"==t.status._title?i("div",{staticClass:"button"},[i("van-button",{attrs:{round:"",plain:"",type:"danger"},on:{click:t.no}},[t._v("取消订单")]),i("van-button",{attrs:{round:"",type:"danger"},on:{click:t.atonce}},[t._v("立即付款")])],1):t._e(),"未发货"==t.status._title?i("div",{staticClass:"button"},[i("van-button",{attrs:{round:"",plain:"",type:"danger",color:"#ccc"}},[t._v("申请退款")])],1):t._e(),i("div",[i("van-action-sheet",{attrs:{title:"选择支付方式"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[i("div",{staticClass:"tanchuangcontent"},[i("div",{on:{click:function(a){return t.pay(0)}}},[i("div",[i("van-icon",{staticClass:"green",attrs:{name:"wechat-pay"}}),i("div",{staticClass:"tancontent"},[i("li",[t._v("微信支付")]),i("li",[t._v("使用微信快捷支付")])])],1),i("van-icon",{attrs:{name:"arrow"}})],1),i("div",{on:{click:function(a){return t.pay(1)}}},[i("div",[i("van-icon",{staticClass:"red",attrs:{name:"gold-coin"}}),i("div",{staticClass:"tancontent"},[i("li",[t._v("余额支付")]),i("li",[t._v("当前可用余额:"),i("span",[t._v(t._s(t.loginUser.now_money))])])])],1),i("van-icon",{attrs:{name:"arrow"}})],1)])])],1),t.Loading?i("van-loading",{staticClass:"Loading",attrs:{size:"24px",color:"#000"}},[t._v("加载中...")]):t._e()],1):t._e()},n=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"van-cell aa"},[i("div",[t._v("订单类型:")]),i("div",[t._v("普通订单")])])}],e=i("f8b9"),o=i.n(e),r={props:["id"],data:function(){return{img:o.a,ordertaildata:[],status:[],active:1,orderdata:[],show:!1,loginUser:[],Loading:!1}},created:function(){var t=this;this.$axios.get("/api/user").then((function(a){t.loginUser=a.data.data})),this.$axios.get("/api/order/detail/"+this.id).then((function(a){t.ordertaildata=a.data.data,t.status=a.data.data._status,"未支付"==t.status._title?t.active=0:"已支付"==t.status._title&&(t.active=1),t.orderdata=a.data.data.cartInfo}))},methods:{no:function(){var t=this;this.$dialog.confirm({title:"提示",message:"确定取消订单?"}).then((function(){t.$axios.post("/api/order/cancel",{id:t.ordertaildata.order_id}).then((function(a){t.$toast({message:a.data.msg,icon:"passed"}),t.$router.push("/my")}))})).catch((function(){}))},atonce:function(){this.show=!0},onCancel:function(){this.$toast("取消")},pay:function(t){var a=this;this.Loading=!0,1==t?this.$axios.post("/api/order/pay",{from:"weixinh5",paytype:"yue",uni:this.ordertaildata.order_id}).then((function(t){a.show=!1,a.Loading=!1,a.$toast({message:t.data.msg}),a.$router.push("/")})):this.$axios.post("/api/order/pay",{from:"weixinh5",paytype:"weixin",uni:this.ordertaildata.order_id}).then((function(t){a.show=!1,a.Loading=!1,a.$toast({message:t.data.msg})}))}}},d=r,c=(i("c1eb"),i("2877")),v=Object(c["a"])(d,s,n,!1,null,null,null);a["default"]=v.exports},d762:function(t,a,i){},f8b9:function(t,a,i){t.exports=i.p+"img/line.05bf1c84.jpg"}}]);
//# sourceMappingURL=chunk-effc3b58.7adc25a4.js.map